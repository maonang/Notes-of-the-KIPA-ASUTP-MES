# –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ NCalc
**üîó –ò—Å—Ç–æ—á–Ω–∏–∫:** [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://ncalc.github.io/ncalc/articles/functions.html)

| –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ | –†–µ–∑—É–ª—å—Ç–∞—Ç |  
| --- | --- | --- | --- |
| Abs | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–±—Å–æ–ª—é—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞. | Abs(-1) | 1d |  
| Acos | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–≥–æ–ª, –∫–æ—Å–∏–Ω—É—Å –∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–∞–≤–µ–Ω —É–∫–∞–∑–∞–Ω–Ω–æ–º—É —á–∏—Å–ª—É. | Acos(1) | 0d |  
| Asin | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–≥–æ–ª, —Å–∏–Ω—É—Å –∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–∞–≤–µ–Ω —É–∫–∞–∑–∞–Ω–Ω–æ–º—É —á–∏—Å–ª—É. | Asin(0) | 0d |  
| Atan | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–≥–æ–ª, —Ç–∞–Ω–≥–µ–Ω—Å –∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–∞–≤–µ–Ω —É–∫–∞–∑–∞–Ω–Ω–æ–º—É —á–∏—Å–ª—É. | Atan(0) | 0d |  
| Ceiling | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–∏–º–µ–Ω—å—à–µ–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ, –±–æ–ª—å—à–µ–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É —á–∏—Å–ª—É. | Ceiling(1.5) | 2d |  
| Cos | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Å–∏–Ω—É—Å —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —É–≥–ª–∞. | Cos(0) | 1d |  
| Exp | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ e, –≤–æ–∑–≤–µ–¥–µ–Ω–Ω–æ–µ –≤ —É–∫–∞–∑–∞–Ω–Ω—É—é —Å—Ç–µ–ø–µ–Ω—å. | Exp(0) | 1d |  
| Floor | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–∏–±–æ–ª—å—à–µ–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ, –º–µ–Ω—å—à–µ–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É —á–∏—Å–ª—É. | Floor(1.5) | 1d |  
| IEEERemainder | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Å—Ç–∞—Ç–æ–∫, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –¥–µ–ª–µ–Ω–∏—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ –Ω–∞ –¥—Ä—É–≥–æ–µ —É–∫–∞–∑–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ. | IEEERemainder(3, 2) | -1d |  
| Ln | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π –ª–æ–≥–∞—Ä–∏—Ñ–º —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞. | Ln(1) | 0d |  
| Log | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–æ–≥–∞—Ä–∏—Ñ–º —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞. | Log(1, 10) | 0d |  
| Log10 | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–æ–≥–∞—Ä–∏—Ñ–º —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ –ø–æ –æ—Å–Ω–æ–≤–∞–Ω–∏—é 10. | Log10(1) | 0d |  
| Max | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–æ–ª—å—à–µ–µ –∏–∑ –¥–≤—É—Ö —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —á–∏—Å–µ–ª. | Max(1, 2) | 2 |  
| Min | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–µ–Ω—å—à–µ–µ –∏–∑ –¥–≤—É—Ö —á–∏—Å–µ–ª. | Min(1, 2) | 1 |  
| Pow | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ, –≤–æ–∑–≤–µ–¥–µ–Ω–Ω–æ–µ –≤ —É–∫–∞–∑–∞–Ω–Ω—É—é —Å—Ç–µ–ø–µ–Ω—å | Pow(3, 2) | 9d |  
| Round | –û–∫—Ä—É–≥–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ —Ü–µ–ª–æ–≥–æ —á–∏—Å–ª–∞ –∏–ª–∏ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π. –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ —á–∏—Å–ª–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω–æ —Å –ø–æ–º–æ—â—å—é ExpressionOptions. –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –æ—Ç –Ω—É–ª—è –ø—Ä–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ Expression. | Round(3.222, 2) | 3.22d |  
| Sign | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, —É–∫–∞–∑—ã–≤–∞—é—â–µ–µ –∑–Ω–∞–∫ —á–∏—Å–ª–∞. | Sign(-10) | -1 |  
| Sin | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–∏–Ω—É—Å —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —É–≥–ª–∞. | Sin(0) | 0d |  
| Sqrt | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–π –∫–æ—Ä–µ–Ω—å –∏–∑ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞. | Sqrt(4) | 2d |  
| Tan | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–∞–Ω–≥–µ–Ω—Å —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —É–≥–ª–∞. | Tan(0) | 0d |  
| Truncate | –í—ã—á–∏—Å–ª—è–µ—Ç —Ü–µ–ª—É—é —á–∞—Å—Ç—å —á–∏—Å–ª–∞. | Truncate(1.7) | 1 |  
| | | | |  
| in | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç, –≤—Ö–æ–¥–∏—Ç –ª–∏ —ç–ª–µ–º–µ–Ω—Ç –≤ –Ω–∞–±–æ—Ä –∑–Ω–∞—á–µ–Ω–∏–π. | in(1 + 1, 1, 2, 3) | true |  
| if | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞ —É—Å–ª–æ–≤–∏–∏. | if(3 % 2 = 1, 'value is true', 'value is false') | 'value is true' |  
| ifs | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞ –æ—Ü–µ–Ω–∫–µ —Ä—è–¥–∞ —É—Å–ª–æ–≤–∏–π, –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –Ω–∏ –æ–¥–Ω–æ –∏–∑ –Ω–∏—Ö –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∏—Å—Ç–∏–Ω–Ω—ã–º. | ifs(foo > 50, "bar", foo > 75, "baz", "quux") | if foo is between 50 and 75 "bar", foo greater than 75 "baz", otherwise "quux" |  

–í –∫–∞—á–µ—Å—Ç–≤–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–ø—è—Ç—É—é (,) –∏–ª–∏ —Ç–æ—á–∫—É —Å –∑–∞–ø—è—Ç–æ–π (;).  
–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è [DecimalAsDefault](https://ncalc.github.io/ncalc/api/NCalc.ExpressionOptions.html#NCalc_ExpressionOptions_DecimalAsDefault), —Ç–æ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥—É—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫ [–¥–µ—Å—è—Ç–∏—á–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é](https://learn.microsoft.com/ru-ru/dotnet/api/system.decimal?view=net-9.0).  

# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–µ–ª–µ–≥–∞—Ç–∞ [ExpressionFunction](https://ncalc.github.io/ncalc/api/NCalc.ExpressionFunction.html).  
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã - —ç—Ç–æ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã [–≤—ã—Ä–∞–∂–µ–Ω–∏–π](https://ncalc.github.io/ncalc/api/NCalc.Expression.html), –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π.  
```csharp
expression.Functions["SecretOperation"] = (args) => {
  return (int)args[0].Evaluate() + (int)args[1].Evaluate();
};
```

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ—É–Ω–∫—Ü–∏–π.  
```csharp
expression.EvaluateFunction += delegate(string name, FunctionArgs args)
{
    if (name == "SecretOperation")
        args.Result = (int)args.Parameters[0].Evaluate() + (int)args.Parameters[1].Evaluate();
};
```
# –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É
## –§—É–Ω–∫—Ü–∏–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–æ—Ü–µ—Å—Å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å—Å—è —Ä–µ–≥–∏—Å—Ç—Ä. –≠—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞–∫ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ IDictionary, —Ç–∞–∫ –∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ StringComparer.  
## –§—É–Ω–∫—Ü–∏—è –±–µ–∑ —É—á–µ—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞
```csharp
var expression = new Expression("secretOperation()")
{
    Functions = new Dictionary<string, ExpressionFunction>(StringComparer.InvariantCultureIgnoreCase)
    {
        { "SecretOperation", (arguments) => 42 }
    }
};

```
## –ü–∞—Ä–∞–º–µ—Ç—Ä –±–µ–∑ —É—á–µ—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞
```csharp
var expression = new Expression("name == 'Beatriz'")
{
    Parameters = new Dictionary<string, object>(StringComparer.InvariantCultureIgnoreCase)
    {
        { "Name", "Beatriz" }
    }
};

```
## –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –Ω–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞—è –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É
```csharp
var expression = new Expression("aBs(-1)", ExpressionOptions.IgnoreCaseAtBuiltInFunctions);
```

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫
–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π —Å –ø–æ–º–æ—â—å—é [CaseInsensitiveStringComparer](https://ncalc.github.io/ncalc/api/NCalc.ExpressionOptions.html#NCalc_ExpressionOptions_CaseInsensitiveStringComparer).
```csharp
var expression = new Expression("{PageState} == 'list'");
expression.Parameters["PageState"] = "List";
Debug.Assert(false, expression.Evaluate());
 
expression = new Expression("{PageState} == 'list'", ExpressionOptions.CaseInsensitiveStringComparer);
expression.Parameters["PageState"] = "List";
Debug.Assert(true, expression.Evaluate());
```
