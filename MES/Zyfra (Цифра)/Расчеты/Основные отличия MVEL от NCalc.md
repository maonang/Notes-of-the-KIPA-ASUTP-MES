# Основные отличия выражений NCalc от MVEL  
_Источник: Release Notes ZIIoT v2.20.0, стр. 15)_  

| Возможность | MVEL | NCalc |
|-------------|------|-------|
| Множественные выражения | ✅ | ❌ |
| Локальные переменные | ✅ | ❌ |
| Пользовательские функции | ✅ | ❌ |
| Циклы | ✅ | ❌ |

| Описание | MVEL | NCalc |
|----------|------|-------|
| **Сложные скрипты** | Поддерживает несколько выражений через `;` | Только одно выражение |
| **Контекстные функции** | `Fn.val($A, '*', -99)` | `Val(A, '*', -99)` |
| **Условные выражения** | `if(A > 0){B - 1} else {0}` | `if(A > 0, B - 1, 0)` |
| **Локальные переменные** | `A = B + C` | Не поддерживается |
| **Пользовательские функции** | `def sum(a, b){a + b;}; sum(A, B)` | Не поддерживается |
| **Циклы** | `for(i = 0; i < 100; i++){A = A + 1;}` | Не поддерживается |
| **Работа со временем** | `Fn.bod('*+3h').minusHours(3)` | `ZifTime(Bod('*+3h'), '-3h')` |
| **Деление на 0** | Зависит от типа данных | Ошибка или `Infinity` |
| **Математические функции** | `Math.abs(A)` | `Abs(A)` |
| **Округление вверх** | `Math.ceil(A)` | `Ceiling(A)` |
| **Натуральный логарифм** | `Math.log(A)` | `Ln(A)` |
| **Логарифм по основанию** | `Math.log(n) / Math.log(b)` | `Log(n, b)` |
